<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>LOGxxxxx Create Store Transaction for the completed document fulfillments | ERP.net Domain Model </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="LOGxxxxx Create Store Transaction for the completed document fulfillments | ERP.net Domain Model ">
    <meta name="generator" content="docfx 2.56.9.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        <div class="article row grid">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">

<p>// ---
// erp.entity: Logistics.Inventory.StoreOrders
// erp.type: generation
// ---</p>
<h1 id="logxxxxx-create-store-transaction-for-the-completed-document-fulfillments">LOGxxxxx Create Store Transaction for the completed document fulfillments</h1>
<h2 id="basic-information">Basic Information</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Module</th>
<th>Logistics.Inventory</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Code</td>
<td>LOGxxxxx</td>
</tr>
<tr>
<td style="text-align: left;">Parent Document</td>
<td>StoreOrder</td>
</tr>
<tr>
<td style="text-align: left;">Sub-document</td>
<td>StoreTransaction</td>
</tr>
<tr>
<td style="text-align: left;">Full Name</td>
<td>Create Store Transaction for the completed document fulfillments</td>
</tr>
<tr>
<td style="text-align: left;">Status</td>
<td><a class="xref" href="https://erpnetdocs.github.io/tech/advanced/documents/generation-procedures.html">ACTIVE</a></td>
</tr>
<tr>
<td style="text-align: left;">Deterministic</td>
<td><a class="xref" href="https://erpnetdocs.github.io/tech/advanced/documents/document-generation-and-transitional-documents.html">YES</a></td>
</tr>
<tr>
<td style="text-align: left;">Supports Transitional Documents</td>
<td><a class="xref" href="https://erpnetdocs.github.io/tech/advanced/documents/document-generation-and-transitional-documents.html">NO</a></td>
</tr>
<tr>
<td style="text-align: left;">Replaces</td>
<td>-</td>
</tr>
<tr>
<td style="text-align: left;">Orphan Rows</td>
<td>Ignore</td>
</tr>
<tr>
<td style="text-align: left;">Version</td>
<td>Introduced: 2022</td>
</tr>
<tr>
<td style="text-align: left;">Date of Suspension</td>
<td>-</td>
</tr>
</tbody>
</table>
<h2 id="business-logic">Business Logic</h2>
<p>This generation creates Store Transaction based on the fulfillment of the Store Order, regardless of which module executed the order.
It is often used when the Store Order is executed by another module (eg WMS) or an external application.</p>
<p>The Store Transaction’s header is created based on the Store Order’s header as follows:</p>
<pre><code>Transaction.ParentStoreOrder = StoreOrder

Transaction.Store = StoreOrder.Store

Transaction.MovementType = StoreOrder.MovementType

Transaction.DocumentCurrency = StoreOrder.DocumentCurrency
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The attributes which are not specified here are filled in as described in <a href="../reference/standard-document-attributes.html">Standard Document Attributes</a></p>
</div>
<div class="NOTE">
<h5>Note</h5>
<p>The new store transaction is saved then and only when there is at least one line in it.</p>
</div>
<h2 id="fulfillments">Fulfillments</h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Fulfilment Name</th>
<th>StoreOrderLineToStoreTransactionLine</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Fulfilment Tracking Type</td>
<td>Fulfilment Table</td>
</tr>
<tr>
<td style="text-align: left;">Parent Entity</td>
<td>StoreOrderLine</td>
</tr>
<tr>
<td style="text-align: left;">Fulfilment Table</td>
<td>DocumentFulfillment</td>
</tr>
<tr>
<td style="text-align: left;">Parent Entity/ Fulfilment Table Relationship</td>
<td>StoreOrderLineId = DocumentFulfillment.DocumentLineId</td>
</tr>
</tbody>
</table>
<h2 id="metrics"><a href="../reference/metrics.html">Metrics</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Fulfilment Name</th>
<th style="text-align: center;">Metric Name</th>
<th style="text-align: center;">Measurement Unit</th>
<th style="text-align: left;">Parent Value</th>
<th style="text-align: left;">Fulfilment Table Value</th>
<th style="text-align: left;">New Record</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">StoreOrderLineToStoreTransactionLine</td>
<td style="text-align: center;">MQuantityBase</td>
<td style="text-align: center;">StoreOrderLine.Product.BaseMeasurementUnit</td>
<td style="text-align: left;">StoreOrderLine.QuantityBase</td>
<td style="text-align: left;">DocumentFulfillment.QuantityBase</td>
<td style="text-align: left;">NO</td>
</tr>
<tr>
<td style="text-align: left;">StoreOrderLineToStoreTransactionLine</td>
<td style="text-align: center;">MStandardQuantity</td>
<td style="text-align: center;">StoreOrderLine.Product.BaseMeasurementUnit</td>
<td style="text-align: left;">StoreOrderLine.StandardQuantity</td>
<td style="text-align: left;">DocumentFulfillment.StandardQuantity</td>
<td style="text-align: left;">YES</td>
</tr>
</tbody>
</table>
<p><br><br>
The lines of the new document are created based on the data of the Completed records in the Document Fulfillments table.
The table contains the information for the Fulfilled Part of quantities by the Warehouse Oders which have already been created.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Note that for the calculation of the Fulfilled Part are taken into account only the recods whoose Fulfillment Type is Completed.</p>
</div>
<br>
<p><strong>The new StoreTransactionLine is created as follows:</strong></p>
<pre><code>
StoreTransactionLine.ParentStoreOrderLine = StoreOrderLine

StoreTransactionLine.StoreBin = null

StoreTransactionLine.OriginalProduct = StoreOrderLine.Product

StoreTransactionLine.Product = DocumentFulfillment.Product

StoreTransactionLine.ProductVariant = DocumentFulfillment.ProductVariant

StoreTransactionLine.Lot = DocumentFulfillment.Lot

StoreTransactionLine.SerialNumber = DocumentFulfillment.SerialNumber

StoreTransactionLine.QuantityUnit = StoreOrderLine.QuantityUnit  

StoreTransactionLine.Quantity = CONVERT(REMAINING(MStandardQuantity), StoreTransactionLine.QuantityUnit) ????

StoreTransactionLine.QuantityBase = REMAINING(MQuantityBase)

StoreTransactionLine.StandardQuantityBase = REMAINING(MStandardQuantity)

StoreTransactionLine.UnitCost = StoreOrderLine.UnitCost

StoreTransactionLine.LineCost = if (StoreOrder.MovementType == Receipt) {StoreTransactionLine.LineCost = StoreOrderLine.REMAINING(MLineCost)}, else {StoreTransactionLine.LineCost = 0.00}

StoreTransactionLine.GuaranteePeriodDays = StoreOrderLine.GuaranteePeriodDays

StoreTransactionLine.ParentLineId = StoreOrderLine.ParentLineId

StoreTransactionLine.ParentLineNo = StoreOrderLine.LineNo

StoreTransactionLine.TransactionTimestamp = null

StoreTransactionLine.Notes = StoreOrderLine.Notes
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/ErpNetDocs/model/blob/master/generations/LOGxxxxx.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
