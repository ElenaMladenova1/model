---
erp.type: front-end-business-rule
erp.entity: Finance.Payments.PaymentTransactions
---

# R31422-5 Payment Transaction - Requires Allocation Warning
+----------------------+-----------------------------------------------------------------------------------------------+
| **Code**             | 31422-5                                                                                       |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Entity**           | @Finance.Payments.PaymentTransactions                                                         |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Name**             | RequiresAllocationWarning                                                                     |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Attribute**        | RequiresAllocation                                                                            |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Layer**            | Front-End                                                                                     |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Events**           | AttributeChanged(RequiresAllocation)                                                          |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Priority**         | Normal                                                                                        |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Modify**           | YES                                                                                           |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Applicable         | [ALL // no condition needed                                                                   |
| Legislations**       | ](xref:applicable-legislations)                                                               |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Action**           | if (RequiresAllocation is false and Line.Any())                                               |
|                      | <br/><br/>                                                                                    |
|                      | IssueWaring(Finance_Payments_RequiresAllocationWarning)                                       |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Description**      | If Requires Allocation is set to false while there are lines in the document, a warning       |
|                      | message is shown with the information, that the document\'s state cannot be changed to        |
|                      | Released.                                                                                     |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Message**          | If \'Requires Allocation\' is not checked and there are lines in the Payment Transaction, the |
|                      | state of the document is not allowed to be changed to Released.                               |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Version**          | Introduced: 21                                                                                |
|                      | <br/><br/>                                                                                    |
|                      | <br/><br/>                                                                                    |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Revocable**        | YES                                                                                           |
+----------------------+-----------------------------------------------------------------------------------------------+
