---
erp.type: business-rule
erp.entity: Logistics.Inventory.StoreTransactions
---

# R28301 StoreTransaction - Line Lot Keep Product
+----------------------+-----------------------------------------------------------------------------------------------+
| **Code**             | R28301                                                                                        |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Entity**           | @Logistics.Inventory.StoreTransactions                                                                              |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Name**             | LineLotKeepProduct                                                                            |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Attribute**        | LineLot                                                                                       |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Layer**            | Back-End                                                                                      |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Events**           | First Releasing                                                                               |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Modify**           | NO                                                                                            |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Action**           | For every line:                                                                               |
|                      |                                                                                               |
|                      | If config option \"CheckForTransactionInvalidLotDisabled\"== NULL\" or \"!= 1\",              |
|                      |                                                                                               |
|                      | then validate that if \"Line.Lot\" has a value, then \"Line.Product == Line.Lot.Product\".    |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Description**      | If the transaction lines in the document contain lots, then the product filled in the         |
|                      | particular line has to be the same as the product set in the lot\'s definition.               |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Message**          | The field \'Lot\' in line \'\[Line.LineNo\]\' in document \'\[Document.DocumentType\]         |
|                      | \[Document.DocumentNo\]\' contains an invalid value. Lot \'\[Line.Lot.Number\]\' is not       |
|                      | defined for the product from the document line.                                               |
+----------------------+-----------------------------------------------------------------------------------------------+
| Sort Messages By     | LineNo                                                                                        |
| Attribute:           |                                                                                               |
|                      |                                                                                               |
| *~^(app              |                                                                                               |
| lies\ only\ when\ me |                                                                                               |
| ssage\ is\ repeated\ |                                                                                               |
|  more\ than\ once;\  |                                                                                               |
| e.g.\ \"LineNo\")^~* |                                                                                               |
+----------------------+-----------------------------------------------------------------------------------------------+
| ** Version**         | Introduced In: 2018.1                                                                         |
|                      |                                                                                               |
|                      | Updated: 2020 SP12 - the rule is now revocable                                                |
+----------------------+-----------------------------------------------------------------------------------------------+
| **Revocable**        | YES                                                                                           |
+----------------------+-----------------------------------------------------------------------------------------------+

  

  

  
